!function b(u,t,c){function h(bb,ub){if(!t[bb]){if(!u[bb]){var tb="function"==typeof require&&require;if(!ub&&tb)return tb(bb,!0);if(i)return i(bb,!0);var cb=new Error("Cannot find module '"+bb+"'");throw cb.code="MODULE_NOT_FOUND",cb}var hb=t[bb]={exports:{}};u[bb][0].call(hb.exports,function(b){var t=u[bb][1][b];return h(t?t:b)},hb,hb.exports,b,u,t,c)}return t[bb].exports}for(var i="function"==typeof require&&require,bb=0;bb<c.length;bb++)h(c[bb]);return h}({1:[function(b,u,t){(function(u){"use strict";function c(){try{var b=new Uint8Array(1);return b.foo=function(){return 42},42===b.foo()&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(u){return!1}}function h(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(b){return this instanceof i?(i.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof b?bb(this,b):"string"==typeof b?ub(this,b,arguments.length>1?arguments[1]:"utf8"):tb(this,b)):arguments.length>1?new i(b,arguments[1]):new i(b)}function bb(b,u){if(b=cu(b,0>u?0:0|hu(u)),!i.TYPED_ARRAY_SUPPORT)for(var t=0;u>t;t++)b[t]=0;return b}function ub(b,u,t){("string"!=typeof t||""===t)&&(t="utf8");var c=0|bt(u,t);return b=cu(b,c),b.write(u,t),b}function tb(b,u){if(i.isBuffer(u))return cb(b,u);if(tub(u))return hb(b,u);if(null==u)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(u.buffer instanceof ArrayBuffer)return ib(b,u);if(u instanceof ArrayBuffer)return bu(b,u)}return u.length?uu(b,u):tu(b,u)}function cb(b,u){var t=0|hu(u.length);return b=cu(b,t),u.copy(b,0,0,t),b}function hb(b,u){var t=0|hu(u.length);b=cu(b,t);for(var c=0;t>c;c+=1)b[c]=255&u[c];return b}function ib(b,u){var t=0|hu(u.length);b=cu(b,t);for(var c=0;t>c;c+=1)b[c]=255&u[c];return b}function bu(b,u){return u.byteLength,i.TYPED_ARRAY_SUPPORT?(b=new Uint8Array(u),b.__proto__=i.prototype):b=ib(b,new Uint8Array(u)),b}function uu(b,u){var t=0|hu(u.length);b=cu(b,t);for(var c=0;t>c;c+=1)b[c]=255&u[c];return b}function tu(b,u){var t,c=0;"Buffer"===u.type&&tub(u.data)&&(t=u.data,c=0|hu(t.length)),b=cu(b,c);for(var h=0;c>h;h+=1)b[h]=255&t[h];return b}function cu(b,u){i.TYPED_ARRAY_SUPPORT?(b=new Uint8Array(u),b.__proto__=i.prototype):b.length=u;var t=0!==u&&u<=i.poolSize>>>1;return t&&(b.parent=cub),b}function hu(b){if(b>=h())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+" bytes");return 0|b}function iu(b,u){if(!(this instanceof iu))return new iu(b,u);var t=new i(b,u);return delete t.parent,t}function bt(b,u){"string"!=typeof b&&(b=""+b);var t=b.length;if(0===t)return 0;for(var c=!1;;)switch(u){case"ascii":case"binary":case"raw":case"raws":return t;case"utf8":case"utf-8":return ubb(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return hbb(b).length;default:if(c)return ubb(b).length;u=(""+u).toLowerCase(),c=!0}}function ut(b,u,t){var c=!1;if(u=0|u,t=void 0===t||t===1/0?this.length:0|t,b||(b="utf8"),0>u&&(u=0),t>this.length&&(t=this.length),u>=t)return"";for(;;)switch(b){case"hex":return uh(this,u,t);case"utf8":case"utf-8":return cc(this,u,t);case"ascii":return ic(this,u,t);case"binary":return bh(this,u,t);case"base64":return tc(this,u,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return th(this,u,t);default:if(c)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),c=!0}}function tt(b,u,t,c){t=Number(t)||0;var h=b.length-t;c?(c=Number(c),c>h&&(c=h)):c=h;var i=u.length;if(i%2!==0)throw new Error("Invalid hex string");c>i/2&&(c=i/2);for(var bb=0;c>bb;bb++){var ub=parseInt(u.substr(2*bb,2),16);if(isNaN(ub))throw new Error("Invalid hex string");b[t+bb]=ub}return bb}function ct(b,u,t,c){return ibb(ubb(u,b.length-t),b,t,c)}function ht(b,u,t,c){return ibb(tbb(u),b,t,c)}function it(b,u,t,c){return ht(b,u,t,c)}function bc(b,u,t,c){return ibb(hbb(u),b,t,c)}function uc(b,u,t,c){return ibb(cbb(u,b.length-t),b,t,c)}function tc(b,u,t){return 0===u&&t===b.length?bub.fromByteArray(b):bub.fromByteArray(b.slice(u,t))}function cc(b,u,t){t=Math.min(b.length,t);for(var c=[],h=u;t>h;){var i=b[h],bb=null,ub=i>239?4:i>223?3:i>191?2:1;if(t>=h+ub){var tb,cb,hb,ib;switch(ub){case 1:128>i&&(bb=i);break;case 2:tb=b[h+1],128===(192&tb)&&(ib=(31&i)<<6|63&tb,ib>127&&(bb=ib));break;case 3:tb=b[h+1],cb=b[h+2],128===(192&tb)&&128===(192&cb)&&(ib=(15&i)<<12|(63&tb)<<6|63&cb,ib>2047&&(55296>ib||ib>57343)&&(bb=ib));break;case 4:tb=b[h+1],cb=b[h+2],hb=b[h+3],128===(192&tb)&&128===(192&cb)&&128===(192&hb)&&(ib=(15&i)<<18|(63&tb)<<12|(63&cb)<<6|63&hb,ib>65535&&1114112>ib&&(bb=ib))}}null===bb?(bb=65533,ub=1):bb>65535&&(bb-=65536,c.push(bb>>>10&1023|55296),bb=56320|1023&bb),c.push(bb),h+=ub}return hc(c)}function hc(b){var u=b.length;if(hub>=u)return String.fromCharCode.apply(String,b);for(var t="",c=0;u>c;)t+=String.fromCharCode.apply(String,b.slice(c,c+=hub));return t}function ic(b,u,t){var c="";t=Math.min(b.length,t);for(var h=u;t>h;h++)c+=String.fromCharCode(127&b[h]);return c}function bh(b,u,t){var c="";t=Math.min(b.length,t);for(var h=u;t>h;h++)c+=String.fromCharCode(b[h]);return c}function uh(b,u,t){var c=b.length;(!u||0>u)&&(u=0),(!t||0>t||t>c)&&(t=c);for(var h="",i=u;t>i;i++)h+=bbb(b[i]);return h}function th(b,u,t){for(var c=b.slice(u,t),h="",i=0;i<c.length;i+=2)h+=String.fromCharCode(c[i]+256*c[i+1]);return h}function ch(b,u,t){if(b%1!==0||0>b)throw new RangeError("offset is not uint");if(b+u>t)throw new RangeError("Trying to access beyond buffer length")}function hh(b,u,t,c,h,bb){if(!i.isBuffer(b))throw new TypeError("buffer must be a Buffer instance");if(u>h||bb>u)throw new RangeError("value is out of bounds");if(t+c>b.length)throw new RangeError("index out of range")}function ih(b,u,t,c){0>u&&(u=65535+u+1);for(var h=0,i=Math.min(b.length-t,2);i>h;h++)b[t+h]=(u&255<<8*(c?h:1-h))>>>8*(c?h:1-h)}function bi(b,u,t,c){0>u&&(u=4294967295+u+1);for(var h=0,i=Math.min(b.length-t,4);i>h;h++)b[t+h]=u>>>8*(c?h:3-h)&255}function ui(b,u,t,c,h,i){if(t+c>b.length)throw new RangeError("index out of range");if(0>t)throw new RangeError("index out of range")}function ti(b,u,t,c,h){return h||ui(b,u,t,4,3.4028234663852886e38,-3.4028234663852886e38),uub.write(b,u,t,c,23,4),t+4}function ci(b,u,t,c,h){return h||ui(b,u,t,8,1.7976931348623157e308,-1.7976931348623157e308),uub.write(b,u,t,c,52,8),t+8}function hi(b){if(b=ii(b).replace(iub,""),b.length<2)return"";for(;b.length%4!==0;)b+="=";return b}function ii(b){return b.trim?b.trim():b.replace(/^\s+|\s+$/g,"")}function bbb(b){return 16>b?"0"+b.toString(16):b.toString(16)}function ubb(b,u){u=u||1/0;for(var t,c=b.length,h=null,i=[],bb=0;c>bb;bb++){if(t=b.charCodeAt(bb),t>55295&&57344>t){if(!h){if(t>56319){(u-=3)>-1&&i.push(239,191,189);continue}if(bb+1===c){(u-=3)>-1&&i.push(239,191,189);continue}h=t;continue}if(56320>t){(u-=3)>-1&&i.push(239,191,189),h=t;continue}t=(h-55296<<10|t-56320)+65536}else h&&(u-=3)>-1&&i.push(239,191,189);if(h=null,128>t){if((u-=1)<0)break;i.push(t)}else if(2048>t){if((u-=2)<0)break;i.push(t>>6|192,63&t|128)}else if(65536>t){if((u-=3)<0)break;i.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(1114112>t))throw new Error("Invalid code point");if((u-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return i}function tbb(b){for(var u=[],t=0;t<b.length;t++)u.push(255&b.charCodeAt(t));return u}function cbb(b,u){for(var t,c,h,i=[],bb=0;bb<b.length&&!((u-=2)<0);bb++)t=b.charCodeAt(bb),c=t>>8,h=t%256,i.push(h),i.push(c);return i}function hbb(b){return bub.toByteArray(hi(b))}function ibb(b,u,t,c){for(var h=0;c>h&&!(h+t>=u.length||h>=b.length);h++)u[h+t]=b[h];return h}var bub=b("base64-js"),uub=b("ieee754"),tub=b("isarray");t.Buffer=i,t.SlowBuffer=iu,t.INSPECT_MAX_BYTES=50,i.poolSize=8192;var cub={};i.TYPED_ARRAY_SUPPORT=void 0!==u.TYPED_ARRAY_SUPPORT?u.TYPED_ARRAY_SUPPORT:c(),i._augment=function(b){return b.__proto__=i.prototype,b},i.TYPED_ARRAY_SUPPORT?(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})):(i.prototype.length=void 0,i.prototype.parent=void 0),i.isBuffer=function(b){return!(null==b||!b._isBuffer)},i.compare=function(b,u){if(!i.isBuffer(b)||!i.isBuffer(u))throw new TypeError("Arguments must be Buffers");if(b===u)return 0;for(var t=b.length,c=u.length,h=0,bb=Math.min(t,c);bb>h;++h)if(b[h]!==u[h]){t=b[h],c=u[h];break}return c>t?-1:t>c?1:0},i.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(b,u){if(!tub(b))throw new TypeError("list argument must be an Array of Buffers.");if(0===b.length)return new i(0);var t;if(void 0===u)for(u=0,t=0;t<b.length;t++)u+=b[t].length;var c=new i(u),h=0;for(t=0;t<b.length;t++){var bb=b[t];bb.copy(c,h),h+=bb.length}return c},i.byteLength=bt,i.prototype._isBuffer=!0,i.prototype.toString=function(){var b=0|this.length;return 0===b?"":0===arguments.length?cc(this,0,b):ut.apply(this,arguments)},i.prototype.equals=function(b){if(!i.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:0===i.compare(this,b)},i.prototype.inspect=function(){var b="",u=t.INSPECT_MAX_BYTES;return this.length>0&&(b=this.toString("hex",0,u).match(/.{2}/g).join(" "),this.length>u&&(b+=" ... ")),"<Buffer "+b+">"},i.prototype.compare=function(b){if(!i.isBuffer(b))throw new TypeError("Argument must be a Buffer");return i.compare(this,b)},i.prototype.indexOf=function(b,u){function t(b,u,t){for(var c=-1,h=0;t+h<b.length;h++)if(b[t+h]===u[-1===c?0:h-c]){if(-1===c&&(c=h),h-c+1===u.length)return t+c}else c=-1;return-1}if(u>2147483647?u=2147483647:-2147483648>u&&(u=-2147483648),u>>=0,0===this.length)return-1;if(u>=this.length)return-1;if(0>u&&(u=Math.max(this.length+u,0)),"string"==typeof b)return 0===b.length?-1:String.prototype.indexOf.call(this,b,u);if(i.isBuffer(b))return t(this,b,u);if("number"==typeof b)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,b,u):t(this,[b],u);throw new TypeError("val must be string, number or Buffer")},i.prototype.write=function(b,u,t,c){if(void 0===u)c="utf8",t=this.length,u=0;else if(void 0===t&&"string"==typeof u)c=u,t=this.length,u=0;else if(isFinite(u))u=0|u,isFinite(t)?(t=0|t,void 0===c&&(c="utf8")):(c=t,t=void 0);else{var h=c;c=u,u=0|t,t=h}var i=this.length-u;if((void 0===t||t>i)&&(t=i),b.length>0&&(0>t||0>u)||u>this.length)throw new RangeError("attempt to write outside buffer bounds");c||(c="utf8");for(var bb=!1;;)switch(c){case"hex":return tt(this,b,u,t);case"utf8":case"utf-8":return ct(this,b,u,t);case"ascii":return ht(this,b,u,t);case"binary":return it(this,b,u,t);case"base64":return bc(this,b,u,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return uc(this,b,u,t);default:if(bb)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase(),bb=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var hub=4096;i.prototype.slice=function(b,u){var t=this.length;b=~~b,u=void 0===u?t:~~u,0>b?(b+=t,0>b&&(b=0)):b>t&&(b=t),0>u?(u+=t,0>u&&(u=0)):u>t&&(u=t),b>u&&(u=b);var c;if(i.TYPED_ARRAY_SUPPORT)c=this.subarray(b,u),c.__proto__=i.prototype;else{var h=u-b;c=new i(h,void 0);for(var bb=0;h>bb;bb++)c[bb]=this[bb+b]}return c.length&&(c.parent=this.parent||this),c},i.prototype.readUIntLE=function(b,u,t){b=0|b,u=0|u,t||ch(b,u,this.length);for(var c=this[b],h=1,i=0;++i<u&&(h*=256);)c+=this[b+i]*h;return c},i.prototype.readUIntBE=function(b,u,t){b=0|b,u=0|u,t||ch(b,u,this.length);for(var c=this[b+--u],h=1;u>0&&(h*=256);)c+=this[b+--u]*h;return c},i.prototype.readUInt8=function(b,u){return u||ch(b,1,this.length),this[b]},i.prototype.readUInt16LE=function(b,u){return u||ch(b,2,this.length),this[b]|this[b+1]<<8},i.prototype.readUInt16BE=function(b,u){return u||ch(b,2,this.length),this[b]<<8|this[b+1]},i.prototype.readUInt32LE=function(b,u){return u||ch(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+16777216*this[b+3]},i.prototype.readUInt32BE=function(b,u){return u||ch(b,4,this.length),16777216*this[b]+(this[b+1]<<16|this[b+2]<<8|this[b+3])},i.prototype.readIntLE=function(b,u,t){b=0|b,u=0|u,t||ch(b,u,this.length);for(var c=this[b],h=1,i=0;++i<u&&(h*=256);)c+=this[b+i]*h;return h*=128,c>=h&&(c-=Math.pow(2,8*u)),c},i.prototype.readIntBE=function(b,u,t){b=0|b,u=0|u,t||ch(b,u,this.length);for(var c=u,h=1,i=this[b+--c];c>0&&(h*=256);)i+=this[b+--c]*h;return h*=128,i>=h&&(i-=Math.pow(2,8*u)),i},i.prototype.readInt8=function(b,u){return u||ch(b,1,this.length),128&this[b]?-1*(255-this[b]+1):this[b]},i.prototype.readInt16LE=function(b,u){u||ch(b,2,this.length);var t=this[b]|this[b+1]<<8;return 32768&t?4294901760|t:t},i.prototype.readInt16BE=function(b,u){u||ch(b,2,this.length);var t=this[b+1]|this[b]<<8;return 32768&t?4294901760|t:t},i.prototype.readInt32LE=function(b,u){return u||ch(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},i.prototype.readInt32BE=function(b,u){return u||ch(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},i.prototype.readFloatLE=function(b,u){return u||ch(b,4,this.length),uub.read(this,b,!0,23,4)},i.prototype.readFloatBE=function(b,u){return u||ch(b,4,this.length),uub.read(this,b,!1,23,4)},i.prototype.readDoubleLE=function(b,u){return u||ch(b,8,this.length),uub.read(this,b,!0,52,8)},i.prototype.readDoubleBE=function(b,u){return u||ch(b,8,this.length),uub.read(this,b,!1,52,8)},i.prototype.writeUIntLE=function(b,u,t,c){b=+b,u=0|u,t=0|t,c||hh(this,b,u,t,Math.pow(2,8*t),0);var h=1,i=0;for(this[u]=255&b;++i<t&&(h*=256);)this[u+i]=b/h&255;return u+t},i.prototype.writeUIntBE=function(b,u,t,c){b=+b,u=0|u,t=0|t,c||hh(this,b,u,t,Math.pow(2,8*t),0);var h=t-1,i=1;for(this[u+h]=255&b;--h>=0&&(i*=256);)this[u+h]=b/i&255;return u+t},i.prototype.writeUInt8=function(b,u,t){return b=+b,u=0|u,t||hh(this,b,u,1,255,0),i.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),this[u]=255&b,u+1},i.prototype.writeUInt16LE=function(b,u,t){return b=+b,u=0|u,t||hh(this,b,u,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[u]=255&b,this[u+1]=b>>>8):ih(this,b,u,!0),u+2},i.prototype.writeUInt16BE=function(b,u,t){return b=+b,u=0|u,t||hh(this,b,u,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[u]=b>>>8,this[u+1]=255&b):ih(this,b,u,!1),u+2},i.prototype.writeUInt32LE=function(b,u,t){return b=+b,u=0|u,t||hh(this,b,u,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[u+3]=b>>>24,this[u+2]=b>>>16,this[u+1]=b>>>8,this[u]=255&b):bi(this,b,u,!0),u+4},i.prototype.writeUInt32BE=function(b,u,t){return b=+b,u=0|u,t||hh(this,b,u,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[u]=b>>>24,this[u+1]=b>>>16,this[u+2]=b>>>8,this[u+3]=255&b):bi(this,b,u,!1),u+4},i.prototype.writeIntLE=function(b,u,t,c){if(b=+b,u=0|u,!c){var h=Math.pow(2,8*t-1);hh(this,b,u,t,h-1,-h)}var i=0,bb=1,ub=0>b?1:0;for(this[u]=255&b;++i<t&&(bb*=256);)this[u+i]=(b/bb>>0)-ub&255;return u+t},i.prototype.writeIntBE=function(b,u,t,c){if(b=+b,u=0|u,!c){var h=Math.pow(2,8*t-1);hh(this,b,u,t,h-1,-h)}var i=t-1,bb=1,ub=0>b?1:0;for(this[u+i]=255&b;--i>=0&&(bb*=256);)this[u+i]=(b/bb>>0)-ub&255;return u+t},i.prototype.writeInt8=function(b,u,t){return b=+b,u=0|u,t||hh(this,b,u,1,127,-128),i.TYPED_ARRAY_SUPPORT||(b=Math.floor(b)),0>b&&(b=255+b+1),this[u]=255&b,u+1},i.prototype.writeInt16LE=function(b,u,t){return b=+b,u=0|u,t||hh(this,b,u,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[u]=255&b,this[u+1]=b>>>8):ih(this,b,u,!0),u+2},i.prototype.writeInt16BE=function(b,u,t){return b=+b,u=0|u,t||hh(this,b,u,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[u]=b>>>8,this[u+1]=255&b):ih(this,b,u,!1),u+2},i.prototype.writeInt32LE=function(b,u,t){return b=+b,u=0|u,t||hh(this,b,u,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[u]=255&b,this[u+1]=b>>>8,this[u+2]=b>>>16,this[u+3]=b>>>24):bi(this,b,u,!0),u+4},i.prototype.writeInt32BE=function(b,u,t){return b=+b,u=0|u,t||hh(this,b,u,4,2147483647,-2147483648),0>b&&(b=4294967295+b+1),i.TYPED_ARRAY_SUPPORT?(this[u]=b>>>24,this[u+1]=b>>>16,this[u+2]=b>>>8,this[u+3]=255&b):bi(this,b,u,!1),u+4},i.prototype.writeFloatLE=function(b,u,t){return ti(this,b,u,!0,t)},i.prototype.writeFloatBE=function(b,u,t){return ti(this,b,u,!1,t)},i.prototype.writeDoubleLE=function(b,u,t){return ci(this,b,u,!0,t)},i.prototype.writeDoubleBE=function(b,u,t){return ci(this,b,u,!1,t)},i.prototype.copy=function(b,u,t,c){if(t||(t=0),c||0===c||(c=this.length),u>=b.length&&(u=b.length),u||(u=0),c>0&&t>c&&(c=t),c===t)return 0;if(0===b.length||0===this.length)return 0;if(0>u)throw new RangeError("targetStart out of bounds");if(0>t||t>=this.length)throw new RangeError("sourceStart out of bounds");if(0>c)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length),b.length-u<c-t&&(c=b.length-u+t);var h,bb=c-t;if(this===b&&u>t&&c>u)for(h=bb-1;h>=0;h--)b[h+u]=this[h+t];else if(1e3>bb||!i.TYPED_ARRAY_SUPPORT)for(h=0;bb>h;h++)b[h+u]=this[h+t];else Uint8Array.prototype.set.call(b,this.subarray(t,t+bb),u);return bb},i.prototype.fill=function(b,u,t){if(b||(b=0),u||(u=0),t||(t=this.length),u>t)throw new RangeError("end < start");if(t!==u&&0!==this.length){if(0>u||u>=this.length)throw new RangeError("start out of bounds");if(0>t||t>this.length)throw new RangeError("end out of bounds");var c;if("number"==typeof b)for(c=u;t>c;c++)this[c]=b;else{var h=ubb(b.toString()),i=h.length;for(c=u;t>c;c++)this[c]=h[c%i]}return this}};var iub=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":2,ieee754:3,isarray:4}],2:[function(b,u,t){"use strict";function c(){for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,t=b.length;t>u;++u)tb[u]=b[u],cb[b.charCodeAt(u)]=u;cb["-".charCodeAt(0)]=62,cb["_".charCodeAt(0)]=63}function h(b){var u,t,c,h,i,bb,ub=b.length;if(ub%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===b[ub-2]?2:"="===b[ub-1]?1:0,bb=new hb(3*ub/4-i),c=i>0?ub-4:ub;var tb=0;for(u=0,t=0;c>u;u+=4,t+=3)h=cb[b.charCodeAt(u)]<<18|cb[b.charCodeAt(u+1)]<<12|cb[b.charCodeAt(u+2)]<<6|cb[b.charCodeAt(u+3)],bb[tb++]=h>>16&255,bb[tb++]=h>>8&255,bb[tb++]=255&h;return 2===i?(h=cb[b.charCodeAt(u)]<<2|cb[b.charCodeAt(u+1)]>>4,bb[tb++]=255&h):1===i&&(h=cb[b.charCodeAt(u)]<<10|cb[b.charCodeAt(u+1)]<<4|cb[b.charCodeAt(u+2)]>>2,bb[tb++]=h>>8&255,bb[tb++]=255&h),bb}function i(b){return tb[b>>18&63]+tb[b>>12&63]+tb[b>>6&63]+tb[63&b]}function bb(b,u,t){for(var c,h=[],bb=u;t>bb;bb+=3)c=(b[bb]<<16)+(b[bb+1]<<8)+b[bb+2],h.push(i(c));return h.join("")}function ub(b){for(var u,t=b.length,c=t%3,h="",i=[],ub=16383,cb=0,hb=t-c;hb>cb;cb+=ub)i.push(bb(b,cb,cb+ub>hb?hb:cb+ub));return 1===c?(u=b[t-1],h+=tb[u>>2],h+=tb[u<<4&63],h+="=="):2===c&&(u=(b[t-2]<<8)+b[t-1],h+=tb[u>>10],h+=tb[u>>4&63],h+=tb[u<<2&63],h+="="),i.push(h),i.join("")}t.toByteArray=h,t.fromByteArray=ub;var tb=[],cb=[],hb="undefined"!=typeof Uint8Array?Uint8Array:Array;c()},{}],3:[function(b,u,t){t.read=function(b,u,t,c,h){var i,bb,ub=8*h-c-1,tb=(1<<ub)-1,cb=tb>>1,hb=-7,ib=t?h-1:0,bu=t?-1:1,uu=b[u+ib];for(ib+=bu,i=uu&(1<<-hb)-1,uu>>=-hb,hb+=ub;hb>0;i=256*i+b[u+ib],ib+=bu,hb-=8);for(bb=i&(1<<-hb)-1,i>>=-hb,hb+=c;hb>0;bb=256*bb+b[u+ib],ib+=bu,hb-=8);if(0===i)i=1-cb;else{if(i===tb)return bb?NaN:(uu?-1:1)*(1/0);bb+=Math.pow(2,c),i-=cb}return(uu?-1:1)*bb*Math.pow(2,i-c)},t.write=function(b,u,t,c,h,i){var bb,ub,tb,cb=8*i-h-1,hb=(1<<cb)-1,ib=hb>>1,bu=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,uu=c?0:i-1,tu=c?1:-1,cu=0>u||0===u&&0>1/u?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(ub=isNaN(u)?1:0,bb=hb):(bb=Math.floor(Math.log(u)/Math.LN2),u*(tb=Math.pow(2,-bb))<1&&(bb--,tb*=2),u+=bb+ib>=1?bu/tb:bu*Math.pow(2,1-ib),u*tb>=2&&(bb++,tb/=2),bb+ib>=hb?(ub=0,bb=hb):bb+ib>=1?(ub=(u*tb-1)*Math.pow(2,h),bb+=ib):(ub=u*Math.pow(2,ib-1)*Math.pow(2,h),bb=0));h>=8;b[t+uu]=255&ub,uu+=tu,ub/=256,h-=8);for(bb=bb<<h|ub,cb+=h;cb>0;b[t+uu]=255&bb,uu+=tu,bb/=256,cb-=8);b[t+uu-tu]|=128*cu}},{}],4:[function(b,u,t){var c={}.toString;u.exports=Array.isArray||function(b){return"[object Array]"==c.call(b)}},{}],5:[function(b,u,t){var c=b("./lib/encoder"),h=b("./lib/decoder");u.exports={encode:c,decode:h}},{"./lib/decoder":6,"./lib/encoder":7}],6:[function(b,u,t){(function(b){function t(u){var t=new Uint8Array(u),h=new c;h.parse(t);var i={width:h.width,height:h.height,data:new b(h.width*h.height*4)};return h.copyToImageData(i),i}var c=function(){"use strict";function b(){}function u(b,u){for(var t,c,h=0,i=[],bb=16;bb>0&&!b[bb-1];)bb--;i.push({children:[],index:0});var ub,tb=i[0];for(t=0;bb>t;t++){for(c=0;c<b[t];c++){for(tb=i.pop(),tb.children[tb.index]=u[h];tb.index>0;)tb=i.pop();for(tb.index++,i.push(tb);i.length<=t;)i.push(ub={children:[],index:0}),tb.children[tb.index]=ub.children,tb=ub;h++}bb>t+1&&(i.push(ub={children:[],index:0}),tb.children[tb.index]=ub.children,tb=ub)}return i[0].children}function t(b,u,t,c,h,bb,ub,tb,cb){function hb(){if(th>0)return th--,uh>>th&1;if(uh=b[u++],255==uh){var t=b[u++];if(t)throw"unexpected marker: "+(uh<<8|t).toString(16)}return th=7,uh>>>7}function ib(b){for(var u,t=b;null!==(u=hb());){if(t=t[u],"number"==typeof t)return t;if("object"!=typeof t)throw"invalid huffman sequence"}return null}function bu(b){for(var u=0;b>0;){var t=hb();if(null===t)return;u=u<<1|t,b--}return u}function uu(b){var u=bu(b);return u>=1<<b-1?u:u+(-1<<b)+1}function tu(b,u){var t=ib(b.huffmanTableDC),c=0===t?0:uu(t);u[0]=b.pred+=c;for(var h=1;64>h;){var bb=ib(b.huffmanTableAC),ub=15&bb,tb=bb>>4;if(0!==ub){h+=tb;var cb=i[h];u[cb]=uu(ub),h++}else{if(15>tb)break;h+=16}}}function cu(b,u){var t=ib(b.huffmanTableDC),c=0===t?0:uu(t)<<cb;u[0]=b.pred+=c}function hu(b,u){u[0]|=hb()<<cb}function iu(b,u){if(ch>0)return void ch--;for(var t=bb,c=ub;c>=t;){var h=ib(b.huffmanTableAC),tb=15&h,hb=h>>4;if(0!==tb){t+=hb;var tu=i[t];u[tu]=uu(tb)*(1<<cb),t++}else{if(15>hb){ch=bu(hb)+(1<<hb)-1;break}t+=16}}}function bt(b,u){for(var t=bb,c=ub,h=0;c>=t;){var tb=i[t];switch(hh){case 0:var tu=ib(b.huffmanTableAC),cu=15&tu,h=tu>>4;if(0===cu)15>h?(ch=bu(h)+(1<<h),hh=4):(h=16,hh=1);else{if(1!==cu)throw"invalid ACn encoding";ct=uu(cu),hh=h?2:3}continue;case 1:case 2:u[tb]?u[tb]+=hb()<<cb:(h--,0===h&&(hh=2==hh?3:0));break;case 3:u[tb]?u[tb]+=hb()<<cb:(u[tb]=ct<<cb,hh=0);break;case 4:u[tb]&&(u[tb]+=hb()<<cb)}t++}4===hh&&(ch--,0===ch&&(hh=0))}function ut(b,u,t,c,h){var i=t/hc|0,bb=t%hc,ub=i*b.v+c,tb=bb*b.h+h;u(b,b.blocks[ub][tb])}function tt(b,u,t){var c=t/b.blocksPerLine|0,h=t%b.blocksPerLine;u(b,b.blocks[c][h])}var ct,ht,it,bc,uc,tc,cc,hc=(t.precision,t.samplesPerLine,t.scanLines,t.mcusPerLine),ic=t.progressive,bh=(t.maxH,t.maxV,u),uh=0,th=0,ch=0,hh=0,ih=c.length;cc=ic?0===bb?0===tb?cu:hu:0===tb?iu:bt:tu;var bi,ui,ti=0;ui=1==ih?c[0].blocksPerLine*c[0].blocksPerColumn:hc*t.mcusPerColumn,h||(h=ui);for(var ci,hi;ui>ti;){for(it=0;ih>it;it++)c[it].pred=0;if(ch=0,1==ih)for(ht=c[0],tc=0;h>tc;tc++)tt(ht,cc,ti),ti++;else for(tc=0;h>tc;tc++){for(it=0;ih>it;it++)for(ht=c[it],ci=ht.h,hi=ht.v,bc=0;hi>bc;bc++)for(uc=0;ci>uc;uc++)ut(ht,cc,ti,bc,uc);if(ti++,ti===ui)break}if(th=0,bi=b[u]<<8|b[u+1],65280>bi)throw"marker was not found";if(!(bi>=65488&&65495>=bi))break;u+=2}return u-bh}function c(b,u){function t(b,t,c){var h,i,tu,cu,hu,iu,bt,ut,tt,ct,ht=u.quantizationTable,it=c;for(ct=0;64>ct;ct++)it[ct]=b[ct]*ht[ct];for(ct=0;8>ct;++ct){var bc=8*ct;0!=it[1+bc]||0!=it[2+bc]||0!=it[3+bc]||0!=it[4+bc]||0!=it[5+bc]||0!=it[6+bc]||0!=it[7+bc]?(h=bu*it[0+bc]+128>>8,i=bu*it[4+bc]+128>>8,tu=it[2+bc],cu=it[6+bc],hu=uu*(it[1+bc]-it[7+bc])+128>>8,ut=uu*(it[1+bc]+it[7+bc])+128>>8,iu=it[3+bc]<<4,bt=it[5+bc]<<4,tt=h-i+1>>1,h=h+i+1>>1,i=tt,tt=tu*ib+cu*hb+128>>8,tu=tu*hb-cu*ib+128>>8,cu=tt,tt=hu-bt+1>>1,hu=hu+bt+1>>1,bt=tt,tt=ut+iu+1>>1,iu=ut-iu+1>>1,ut=tt,tt=h-cu+1>>1,h=h+cu+1>>1,cu=tt,tt=i-tu+1>>1,i=i+tu+1>>1,tu=tt,tt=hu*cb+ut*tb+2048>>12,hu=hu*tb-ut*cb+2048>>12,ut=tt,tt=iu*ub+bt*bb+2048>>12,iu=iu*bb-bt*ub+2048>>12,bt=tt,it[0+bc]=h+ut,it[7+bc]=h-ut,it[1+bc]=i+bt,it[6+bc]=i-bt,it[2+bc]=tu+iu,it[5+bc]=tu-iu,it[3+bc]=cu+hu,it[4+bc]=cu-hu):(tt=bu*it[0+bc]+512>>10,it[0+bc]=tt,it[1+bc]=tt,it[2+bc]=tt,it[3+bc]=tt,it[4+bc]=tt,it[5+bc]=tt,it[6+bc]=tt,it[7+bc]=tt)}for(ct=0;8>ct;++ct){var uc=ct;0!=it[8+uc]||0!=it[16+uc]||0!=it[24+uc]||0!=it[32+uc]||0!=it[40+uc]||0!=it[48+uc]||0!=it[56+uc]?(h=bu*it[0+uc]+2048>>12,i=bu*it[32+uc]+2048>>12,tu=it[16+uc],cu=it[48+uc],hu=uu*(it[8+uc]-it[56+uc])+2048>>12,ut=uu*(it[8+uc]+it[56+uc])+2048>>12,iu=it[24+uc],bt=it[40+uc],tt=h-i+1>>1,h=h+i+1>>1,i=tt,tt=tu*ib+cu*hb+2048>>12,tu=tu*hb-cu*ib+2048>>12,cu=tt,tt=hu-bt+1>>1,hu=hu+bt+1>>1,bt=tt,tt=ut+iu+1>>1,iu=ut-iu+1>>1,ut=tt,tt=h-cu+1>>1,h=h+cu+1>>1,cu=tt,tt=i-tu+1>>1,i=i+tu+1>>1,tu=tt,tt=hu*cb+ut*tb+2048>>12,hu=hu*tb-ut*cb+2048>>12,ut=tt,tt=iu*ub+bt*bb+2048>>12,iu=iu*bb-bt*ub+2048>>12,bt=tt,it[0+uc]=h+ut,it[56+uc]=h-ut,it[8+uc]=i+bt,it[48+uc]=i-bt,it[16+uc]=tu+iu,it[40+uc]=tu-iu,it[24+uc]=cu+hu,it[32+uc]=cu-hu):(tt=bu*c[ct+0]+8192>>14,it[0+uc]=tt,it[8+uc]=tt,it[16+uc]=tt,it[24+uc]=tt,it[32+uc]=tt,it[40+uc]=tt,it[48+uc]=tt,it[56+uc]=tt)}for(ct=0;64>ct;++ct){var tc=128+(it[ct]+8>>4);t[ct]=0>tc?0:tc>255?255:tc}}for(var c,h,i=[],tu=u.blocksPerLine,cu=u.blocksPerColumn,hu=tu<<3,iu=new Int32Array(64),bt=new Uint8Array(64),ut=0;cu>ut;ut++){var tt=ut<<3;for(c=0;8>c;c++)i.push(new Uint8Array(hu));for(var ct=0;tu>ct;ct++){t(u.blocks[ut][ct],bt,iu);var ht=0,it=ct<<3;for(h=0;8>h;h++){var bc=i[tt+h];for(c=0;8>c;c++)bc[it+c]=bt[ht++]}}}return i}function h(b){return 0>b?0:b>255?255:b}var i=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),bb=4017,ub=799,tb=3406,cb=2276,hb=1567,ib=3784,bu=5793,uu=2896;return b.prototype={load:function(b){var u=new XMLHttpRequest;u.open("GET",b,!0),u.responseType="arraybuffer",u.onload=function(){var b=new Uint8Array(u.response||u.mozResponseArrayBuffer);this.parse(b),this.onload&&this.onload()}.bind(this),u.send(null)},parse:function(b){function h(){var u=b[hb]<<8|b[hb+1];return hb+=2,u}function bb(){var u=h(),t=b.subarray(hb,hb+u-2);return hb+=t.length,t}function ub(b){var u,t,c=0,h=0;for(t in b.components)b.components.hasOwnProperty(t)&&(u=b.components[t],c<u.h&&(c=u.h),h<u.v&&(h=u.v));var i=Math.ceil(b.samplesPerLine/8/c),bb=Math.ceil(b.scanLines/8/h);for(t in b.components)if(b.components.hasOwnProperty(t)){u=b.components[t];for(var ub=Math.ceil(Math.ceil(b.samplesPerLine/8)*u.h/c),tb=Math.ceil(Math.ceil(b.scanLines/8)*u.v/h),cb=i*u.h,hb=bb*u.v,ib=[],bu=0;hb>bu;bu++){for(var uu=[],tu=0;cb>tu;tu++)uu.push(new Int32Array(64));ib.push(uu)}u.blocksPerLine=ub,u.blocksPerColumn=tb,u.blocks=ib}b.maxH=c,b.maxV=h,b.mcusPerLine=i,b.mcusPerColumn=bb}var tb,cb,hb=0,ib=(b.length,null),bu=null,uu=[],tu=[],cu=[],hu=[],iu=h();if(65496!=iu)throw"SOI not found";for(iu=h();65497!=iu;){var bt,ut;switch(iu){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var tt=bb();65504===iu&&74===tt[0]&&70===tt[1]&&73===tt[2]&&70===tt[3]&&0===tt[4]&&(ib={version:{major:tt[5],minor:tt[6]},densityUnits:tt[7],xDensity:tt[8]<<8|tt[9],yDensity:tt[10]<<8|tt[11],thumbWidth:tt[12],thumbHeight:tt[13],thumbData:tt.subarray(14,14+3*tt[12]*tt[13])}),65518===iu&&65===tt[0]&&100===tt[1]&&111===tt[2]&&98===tt[3]&&101===tt[4]&&0===tt[5]&&(bu={version:tt[6],flags0:tt[7]<<8|tt[8],flags1:tt[9]<<8|tt[10],transformCode:tt[11]});break;case 65499:for(var ct=h(),ht=ct+hb-2;ht>hb;){var it=b[hb++],bc=new Int32Array(64);if(it>>4===0)for(ut=0;64>ut;ut++){var uc=i[ut];bc[uc]=b[hb++]}else{if(it>>4!==1)throw"DQT: invalid table spec";for(ut=0;64>ut;ut++){var uc=i[ut];bc[uc]=h()}}uu[15&it]=bc}break;case 65472:case 65473:case 65474:h(),tb={},tb.extended=65473===iu,tb.progressive=65474===iu,tb.precision=b[hb++],tb.scanLines=h(),tb.samplesPerLine=h(),tb.components={},tb.componentsOrder=[];var tc,cc=b[hb++];for(bt=0;cc>bt;bt++){tc=b[hb];var hc=b[hb+1]>>4,ic=15&b[hb+1],bh=b[hb+2];tb.componentsOrder.push(tc),tb.components[tc]={h:hc,v:ic,quantizationIdx:bh},hb+=3}ub(tb),tu.push(tb);break;case 65476:var uh=h();for(bt=2;uh>bt;){var th=b[hb++],ch=new Uint8Array(16),hh=0;for(ut=0;16>ut;ut++,hb++)hh+=ch[ut]=b[hb];var ih=new Uint8Array(hh);for(ut=0;hh>ut;ut++,hb++)ih[ut]=b[hb];bt+=17+hh,(th>>4===0?hu:cu)[15&th]=u(ch,ih)}break;case 65501:h(),cb=h();break;case 65498:var bi,ui=(h(),b[hb++]),ti=[];for(bt=0;ui>bt;bt++){bi=tb.components[b[hb++]];var ci=b[hb++];bi.huffmanTableDC=hu[ci>>4],bi.huffmanTableAC=cu[15&ci],ti.push(bi)}var hi=b[hb++],ii=b[hb++],bbb=b[hb++],ubb=t(b,hb,tb,ti,cb,hi,ii,bbb>>4,15&bbb);hb+=ubb;break;default:if(255==b[hb-3]&&b[hb-2]>=192&&b[hb-2]<=254){hb-=3;break}throw"unknown JPEG marker "+iu.toString(16)}iu=h()}if(1!=tu.length)throw"only single frame JPEGs supported";for(var bt=0;bt<tu.length;bt++){var tbb=tu[bt].components;for(var ut in tbb)tbb[ut].quantizationTable=uu[tbb[ut].quantizationIdx],delete tbb[ut].quantizationIdx}this.width=tb.samplesPerLine,this.height=tb.scanLines,this.jfif=ib,this.adobe=bu,this.components=[];for(var bt=0;bt<tb.componentsOrder.length;bt++){var bi=tb.components[tb.componentsOrder[bt]];this.components.push({lines:c(tb,bi),scaleX:bi.h/tb.maxH,scaleY:bi.v/tb.maxV})}},getData:function(b,u){var t,c,i,bb,ub,tb,cb,hb,ib,bu,uu,tu,cu,hu,iu,bt,ut,tt,ct,ht,it,bc=this.width/b,uc=this.height/u,tc=0,cc=b*u*this.components.length,hc=new Uint8Array(cc);switch(this.components.length){case 1:for(t=this.components[0],bu=0;u>bu;bu++)for(ub=t.lines[0|bu*t.scaleY*uc],ib=0;b>ib;ib++)uu=ub[0|ib*t.scaleX*bc],hc[tc++]=uu;break;case 2:for(t=this.components[0],c=this.components[1],bu=0;u>bu;bu++)for(ub=t.lines[0|bu*t.scaleY*uc],tb=c.lines[0|bu*c.scaleY*uc],ib=0;b>ib;ib++)uu=ub[0|ib*t.scaleX*bc],hc[tc++]=uu,uu=tb[0|ib*c.scaleX*bc],hc[tc++]=uu;break;case 3:for(it=!0,this.adobe&&this.adobe.transformCode?it=!0:"undefined"!=typeof this.colorTransform&&(it=!!this.colorTransform),t=this.components[0],c=this.components[1],i=this.components[2],bu=0;u>bu;bu++)for(ub=t.lines[0|bu*t.scaleY*uc],tb=c.lines[0|bu*c.scaleY*uc],cb=i.lines[0|bu*i.scaleY*uc],ib=0;b>ib;ib++)it?(uu=ub[0|ib*t.scaleX*bc],tu=tb[0|ib*c.scaleX*bc],cu=cb[0|ib*i.scaleX*bc],tt=h(uu+1.402*(cu-128)),ct=h(uu-.3441363*(tu-128)-.71413636*(cu-128)),ht=h(uu+1.772*(tu-128))):(tt=ub[0|ib*t.scaleX*bc],ct=tb[0|ib*c.scaleX*bc],ht=cb[0|ib*i.scaleX*bc]),hc[tc++]=tt,hc[tc++]=ct,hc[tc++]=ht;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";for(it=!1,this.adobe&&this.adobe.transformCode?it=!0:"undefined"!=typeof this.colorTransform&&(it=!!this.colorTransform),t=this.components[0],c=this.components[1],i=this.components[2],bb=this.components[3],bu=0;u>bu;bu++)for(ub=t.lines[0|bu*t.scaleY*uc],tb=c.lines[0|bu*c.scaleY*uc],cb=i.lines[0|bu*i.scaleY*uc],hb=bb.lines[0|bu*bb.scaleY*uc],ib=0;b>ib;ib++)it?(uu=ub[0|ib*t.scaleX*bc],tu=tb[0|ib*c.scaleX*bc],cu=cb[0|ib*i.scaleX*bc],hu=hb[0|ib*bb.scaleX*bc],iu=255-h(uu+1.402*(cu-128)),bt=255-h(uu-.3441363*(tu-128)-.71413636*(cu-128)),ut=255-h(uu+1.772*(tu-128))):(iu=ub[0|ib*t.scaleX*bc],bt=tb[0|ib*c.scaleX*bc],ut=cb[0|ib*i.scaleX*bc],hu=hb[0|ib*bb.scaleX*bc]),hc[tc++]=iu,hc[tc++]=bt,hc[tc++]=ut,hc[tc++]=hu;break;default:throw"Unsupported color mode"}return hc},copyToImageData:function(b){var u,t,c,i,bb,ub,tb,cb,hb,ib=b.width,bu=b.height,uu=b.data,tu=this.getData(ib,bu),cu=0,hu=0;switch(this.components.length){case 1:for(t=0;bu>t;t++)for(u=0;ib>u;u++)c=tu[cu++],uu[hu++]=c,uu[hu++]=c,uu[hu++]=c,uu[hu++]=255;break;case 3:for(t=0;bu>t;t++)for(u=0;ib>u;u++)tb=tu[cu++],cb=tu[cu++],hb=tu[cu++],uu[hu++]=tb,uu[hu++]=cb,uu[hu++]=hb,uu[hu++]=255;break;case 4:for(t=0;bu>t;t++)for(u=0;ib>u;u++)bb=tu[cu++],ub=tu[cu++],c=tu[cu++],i=tu[cu++],tb=255-h(bb*(1-i/255)+i),cb=255-h(ub*(1-i/255)+i),hb=255-h(c*(1-i/255)+i),uu[hu++]=tb,uu[hu++]=cb,uu[hu++]=hb,uu[hu++]=255;
break;default:throw"Unsupported color mode"}}},b}();u.exports=t}).call(this,b("buffer").Buffer)},{buffer:1}],7:[function(b,u,t){(function(b){function t(u){function t(b){for(var u=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],t=0;64>t;t++){var c=uc((u[t]*b+50)/100);1>c?c=1:c>255&&(c=255),tc[bbb[t]]=c}for(var h=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;64>i;i++){var bb=uc((h[i]*b+50)/100);1>bb?bb=1:bb>255&&(bb=255),cc[bbb[i]]=bb}for(var ub=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],tb=0,cb=0;8>cb;cb++)for(var hb=0;8>hb;hb++)hc[tb]=1/(tc[bbb[tb]]*ub[cb]*ub[hb]*8),ic[tb]=1/(cc[bbb[tb]]*ub[cb]*ub[hb]*8),tb++}function c(b,u){for(var t=0,c=0,h=new Array,i=1;16>=i;i++){for(var bb=1;bb<=b[i];bb++)h[u[c]]=[],h[u[c]][0]=t,h[u[c]][1]=i,c++,t++;t*=2}return h}function h(){tt=c(ubb,tbb),ct=c(ibb,bub),ht=c(cbb,hbb),it=c(uub,tub)}function i(){for(var b=1,u=2,t=1;15>=t;t++){for(var c=b;u>c;c++)uh[32767+c]=t,bh[32767+c]=[],bh[32767+c][1]=t,bh[32767+c][0]=c;for(var h=-(u-1);-b>=h;h++)uh[32767+h]=t,bh[32767+h]=[],bh[32767+h][1]=t,bh[32767+h][0]=u-1+h;b<<=1,u<<=1}}function bb(){for(var b=0;256>b;b++)ii[b]=19595*b,ii[b+256>>0]=38470*b,ii[b+512>>0]=7471*b+32768,ii[b+768>>0]=-11059*b,ii[b+1024>>0]=-21709*b,ii[b+1280>>0]=32768*b+8421375,ii[b+1536>>0]=-27439*b,ii[b+1792>>0]=-5329*b}function ub(b){for(var u=b[0],t=b[1]-1;t>=0;)u&1<<t&&(ih|=1<<bi),t--,bi--,0>bi&&(255==ih?(tb(255),tb(0)):tb(ih),bi=7,ih=0)}function tb(b){hh.push(b)}function cb(b){tb(b>>8&255),tb(255&b)}function hb(b,u){var t,c,h,i,bb,ub,tb,cb,hb,ib=0;const bu=8,uu=64;for(hb=0;bu>hb;++hb){t=b[ib],c=b[ib+1],h=b[ib+2],i=b[ib+3],bb=b[ib+4],ub=b[ib+5],tb=b[ib+6],cb=b[ib+7];var tu=t+cb,cu=t-cb,hu=c+tb,iu=c-tb,bt=h+ub,ut=h-ub,tt=i+bb,ct=i-bb,ht=tu+tt,it=tu-tt,bc=hu+bt,uc=hu-bt;b[ib]=ht+bc,b[ib+4]=ht-bc;var tc=.707106781*(uc+it);b[ib+2]=it+tc,b[ib+6]=it-tc,ht=ct+ut,bc=ut+iu,uc=iu+cu;var cc=.382683433*(ht-uc),hc=.5411961*ht+cc,ic=1.306562965*uc+cc,bh=.707106781*bc,uh=cu+bh,ch=cu-bh;b[ib+5]=ch+hc,b[ib+3]=ch-hc,b[ib+1]=uh+ic,b[ib+7]=uh-ic,ib+=8}for(ib=0,hb=0;bu>hb;++hb){t=b[ib],c=b[ib+8],h=b[ib+16],i=b[ib+24],bb=b[ib+32],ub=b[ib+40],tb=b[ib+48],cb=b[ib+56];var hh=t+cb,ih=t-cb,bi=c+tb,ui=c-tb,ti=h+ub,ci=h-ub,hi=i+bb,ii=i-bb,bbb=hh+hi,ubb=hh-hi,tbb=bi+ti,cbb=bi-ti;b[ib]=bbb+tbb,b[ib+32]=bbb-tbb;var hbb=.707106781*(cbb+ubb);b[ib+16]=ubb+hbb,b[ib+48]=ubb-hbb,bbb=ii+ci,tbb=ci+ui,cbb=ui+ih;var ibb=.382683433*(bbb-cbb),bub=.5411961*bbb+ibb,uub=1.306562965*cbb+ibb,tub=.707106781*tbb,cub=ih+tub,hub=ih-tub;b[ib+40]=hub+bub,b[ib+24]=hub-bub,b[ib+8]=cub+uub,b[ib+56]=cub-uub,ib++}var iub;for(hb=0;uu>hb;++hb)iub=b[hb]*u[hb],th[hb]=iub>0?iub+.5|0:iub-.5|0;return th}function ib(){cb(65504),cb(16),tb(74),tb(70),tb(73),tb(70),tb(0),tb(1),tb(1),tb(0),cb(1),cb(1),tb(0),tb(0)}function bu(b,u){cb(65472),cb(17),tb(8),cb(u),cb(b),tb(3),tb(1),tb(17),tb(0),tb(2),tb(17),tb(1),tb(3),tb(17),tb(1)}function uu(){cb(65499),cb(132),tb(0);for(var b=0;64>b;b++)tb(tc[b]);tb(1);for(var u=0;64>u;u++)tb(cc[u])}function tu(){cb(65476),cb(418),tb(0);for(var b=0;16>b;b++)tb(ubb[b+1]);for(var u=0;11>=u;u++)tb(tbb[u]);tb(16);for(var t=0;16>t;t++)tb(cbb[t+1]);for(var c=0;161>=c;c++)tb(hbb[c]);tb(1);for(var h=0;16>h;h++)tb(ibb[h+1]);for(var i=0;11>=i;i++)tb(bub[i]);tb(17);for(var bb=0;16>bb;bb++)tb(uub[bb+1]);for(var ub=0;161>=ub;ub++)tb(tub[ub])}function cu(){cb(65498),cb(12),tb(3),tb(1),tb(0),tb(2),tb(17),tb(3),tb(17),tb(0),tb(63),tb(0)}function hu(b,u,t,c,h){var i,bb=h[0],tb=h[240];const cb=16,ib=63,bu=64;for(var uu=hb(b,u),tu=0;bu>tu;++tu)ch[bbb[tu]]=uu[tu];var cu=ch[0]-t;t=ch[0],0==cu?ub(c[0]):(i=32767+cu,ub(c[uh[i]]),ub(bh[i]));for(var hu=63;hu>0&&0==ch[hu];hu--);if(0==hu)return ub(bb),t;for(var iu,bt=1;hu>=bt;){for(var ut=bt;0==ch[bt]&&hu>=bt;++bt);var tt=bt-ut;if(tt>=cb){iu=tt>>4;for(var ct=1;iu>=ct;++ct)ub(tb);tt=15&tt}i=32767+ch[bt],ub(h[(tt<<4)+uh[i]]),ub(bh[i]),bt++}return hu!=ib&&ub(bb),t}function iu(){for(var b=String.fromCharCode,u=0;256>u;u++)hi[u]=b(u)}function bt(b){if(0>=b&&(b=1),b>100&&(b=100),bc!=b){var u=0;u=50>b?Math.floor(5e3/b):Math.floor(200-2*b),t(u),bc=b}}function ut(){var b=(new Date).getTime();u||(u=50),iu(),h(),i(),bb(),bt(u);(new Date).getTime()-b}var tt,ct,ht,it,bc,uc=(Math.round,Math.floor),tc=new Array(64),cc=new Array(64),hc=new Array(64),ic=new Array(64),bh=new Array(65535),uh=new Array(65535),th=new Array(64),ch=new Array(64),hh=[],ih=0,bi=7,ui=new Array(64),ti=new Array(64),ci=new Array(64),hi=new Array(256),ii=new Array(2048),bbb=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ubb=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],tbb=[0,1,2,3,4,5,6,7,8,9,10,11],cbb=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],hbb=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ibb=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],bub=[0,1,2,3,4,5,6,7,8,9,10,11],uub=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],tub=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(u,t){(new Date).getTime();t&&bt(t),hh=new Array,ih=0,bi=7,cb(65496),ib(),uu(),bu(u.width,u.height),tu(),cu();var c=0,h=0,i=0;ih=0,bi=7,this.encode.displayName="_encode_";for(var bb,tb,hb,iu,ut,bc,uc,tc,cc,bh=u.data,uh=u.width,th=u.height,ch=4*uh,hi=0;th>hi;){for(bb=0;ch>bb;){for(ut=ch*hi+bb,bc=ut,uc=-1,tc=0,cc=0;64>cc;cc++)tc=cc>>3,uc=4*(7&cc),bc=ut+tc*ch+uc,hi+tc>=th&&(bc-=ch*(hi+1+tc-th)),bb+uc>=ch&&(bc-=bb+uc-ch+4),tb=bh[bc++],hb=bh[bc++],iu=bh[bc++],ui[cc]=(ii[tb]+ii[hb+256>>0]+ii[iu+512>>0]>>16)-128,ti[cc]=(ii[tb+768>>0]+ii[hb+1024>>0]+ii[iu+1280>>0]>>16)-128,ci[cc]=(ii[tb+1280>>0]+ii[hb+1536>>0]+ii[iu+1792>>0]>>16)-128;c=hu(ui,hc,c,tt,ht),h=hu(ti,ic,h,ct,it),i=hu(ci,ic,i,ct,it),bb+=32}hi+=8}if(bi>=0){var bbb=[];bbb[1]=bi+1,bbb[0]=(1<<bi+1)-1,ub(bbb)}return cb(65497),new b(hh)},ut()}function c(b,u){"undefined"==typeof u&&(u=50);var c=new t(u),h=c.encode(b,u);return{data:h,width:b.width,height:b.height}}u.exports=c}).call(this,b("buffer").Buffer)},{buffer:1}],8:[function(b,u,t){"use strict";function c(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var h,i,bb,ub,tb,cb,hb=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),ib=0,bu=0,uu=640,tu=350,cu=function(){function b(){c(this,b)}return hb(b,[{key:"init",value:function(){h=document.getElementById("container"),bb=new THREE.PerspectiveCamera(60,uu/tu,1,2e3),bb.position.z=500,ub=new THREE.Scene,cb=new THREE.Group,ub.add(cb);var b=new THREE.TextureLoader;b.load("img/land_ocean_ice_cloud_2048.jpg",function(b){var u=new THREE.SphereGeometry(200,20,20),t=new THREE.MeshBasicMaterial({map:b,overdraw:.5}),c=new THREE.Mesh(u,t);cb.add(c)});var u=document.createElement("canvas");u.width=128,u.height=128;var t=(u.getContext("2d"),new THREE.CanvasTexture(u)),c=new THREE.PlaneBufferGeometry(300,300,3,3),hb=new THREE.MeshBasicMaterial({map:t,overdraw:.5}),ib=new THREE.Mesh(c,hb);ib.position.y=-250,ib.rotation.x=-Math.PI/2,cb.add(ib),tb=new THREE.CanvasRenderer,tb.setClearColor(0),tb.setPixelRatio(window.devicePixelRatio),tb.setSize(uu,tu),h.appendChild(tb.domElement),i=new Stats,i.domElement.style.position="absolute",i.domElement.style.top="0px",h.appendChild(i.domElement)}},{key:"animate",value:function(){var b=this;requestAnimationFrame(function(){b.animate()}),this.render(),i.update()}},{key:"render",value:function(){bb.position.x+=.05*(ib-bb.position.x),bb.position.y+=.05*(-bu-bb.position.y),bb.lookAt(ub.position),cb.rotation.y-=5e-4,tb.render(ub,bb)}}]),b}();t["default"]=cu},{}],9:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}function h(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),bb=b("jpeg-js"),ub=c(bb),tb=640,cb=350,hb=function(){function b(){h(this,b)}return i(b,[{key:"render",value:function(){var b=$(".movie canvas").get(0);b.width=tb,b.height=cb;for(var u=b.getContext("2d"),t=document.querySelector("#container canvas"),c=t.getContext("2d"),h=u.createImageData(tb,cb),i=h.data,bb=c.getImageData(0,0,tb,cb),hb=ub["default"].decode(ub["default"].encode(bb,20).data),ib=0,bu=tb*cb*4;bu>ib;ib++)i[ib]=hb.data[ib];u.putImageData(h,0,0)}}]),b}();t["default"]=hb},{"jpeg-js":5}],10:[function(b,u,t){"use strict";function c(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),i=function(){function b(u){c(this,b),this.startDate=u.start_date||new Date(-621355968e5),this.endDate=u.end_date||new Date,this.duration=this.endDate.valueOf()-this.startDate.valueOf(),this.$btnPlay=u.$btn_play,this.$slider=u.$slider,this.PlayerState={ENDED:0,PLAYING:1,PAUSED:2},this.$dispatcher=$({}),this._state,this.initialize()}return h(b,[{key:"initialize",value:function(){this.curDate=this.startDate}},{key:"playVideo",value:function(){var b=this;this._state=this.PlayerState.PLAYING,this.triggerStateChange(),this.timerId=setInterval(function(){b.curDate.valueOf()>=b.endDate.valueOf()&&b.stopVideo(),b.curDate=new Date(b.curDate.valueOf()+1e3)},1e3)}},{key:"pauseVideo",value:function(){clearInterval(this.timerId),this._state=this.PlayerState.PAUSED,this.triggerStateChange()}},{key:"stopVideo",value:function(){clearInterval(this.timerId),this._state=this.PlayerState.ENDED,this.triggerStateChange(),this.$btnPlay.addClass("pause"),this.seekTo(this.startDate),this.$slider.val(0)}},{key:"seekTo",value:function(b){this.curDate=b}},{key:"getPlayerState",value:function(){return this._state}},{key:"getCurrentTime",value:function(){return this.curDate}},{key:"getDuration",value:function(){return this.duration}},{key:"triggerStateChange",value:function(){this.$dispatcher.trigger("onStateChange",this._state)}}]),b}();t["default"]=i},{}],11:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}function h(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}var i=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),bb=b("./Player"),ub=c(bb),tb=b("./Earth"),cb=c(tb),hb=b("./Movie"),ib=c(hb),bu=function(){function b(){var u=this;arguments.length<=0||void 0===arguments[0]?{}:arguments[0];h(this,b),$(function(){u.recentDate=new Date(2016,3,30,22,4,33),u.epochDate=new Date(-621355968e5),u.$slider=$(".slider"),u.$time=$(".face .time time"),u.$timeCur=$(".controller .time-cur"),u.$timeTotal=$(".controller .time-total"),u.$btnGotohead=$(".controller .btn-gotohead"),u.$btnPlay=$(".controller .btn-play"),requestAnimationFrame(function(){u.updateTime()}),u.$timeTotal.text(u.formatDate(u.recentDate)),u.$slider.on("input",function(b){u.ratio=$(b.target).val(),u.player.seekTo(new Date(u.player.startDate.valueOf()+u.player.duration*u.ratio)),u.updateTime()}),u.$slider.on("change",function(){u.player.$dispatcher.trigger("update"),u.player.seekTo(new Date(u.epochDate.valueOf()+(u.recentDate.valueOf()-u.epochDate.valueOf())*u.ratio))}),u.$btnPlay.on("click",function(b){var t=$(b.target);t.hasClass("pause")?(t.removeClass("pause"),u.player.playVideo()):(t.addClass("pause"),u.player.pauseVideo())}),u.$btnGotohead.on("click",function(){u.player.seekTo(epochDate),$slider.val(0)}),u.initialize()})}return i(b,[{key:"initialize",value:function(){var b=new ub["default"]({start_date:this.epochDate,end_date:this.recentDate,$btn_play:this.$btnPlay,$slider:this.$slider});this.player=b,b.playVideo(),b.$dispatcher.on("onStateChange",function(b,u){console.log("state:",u)}),this.earth=new cb["default"],this.earth.init(),this.earth.animate(),this.movie=new ib["default"]}},{key:"formatDate",value:function(b){var u=b.getUTCFullYear()+"年"+(b.getUTCMonth()+1)+"月"+b.getUTCDate()+"日 "+("00"+b.getUTCHours()).slice(-2)+":"+("00"+b.getUTCMinutes()).slice(-2)+":"+("00"+b.getUTCSeconds()).slice(-2);return u}},{key:"updateTime",value:function(){var b=this,u=this.player.getCurrentTime();this.ratio=(u.valueOf()-this.player.startDate.valueOf())/this.player.duration,this.$time.text(this.formatDate(u)),this.$timeCur.text(this.formatDate(u)),this.player.getPlayerState()===this.player.PlayerState.PLAYING&&this.$slider.val(this.ratio),this.movie.render(),requestAnimationFrame(function(){b.updateTime()})}}]),b}();window.licker=window.licker||{},function(b){b.main=new bu}(window.licker)},{"./Earth":8,"./Movie":9,"./Player":10}]},{},[11]);