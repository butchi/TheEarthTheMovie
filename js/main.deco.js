!function b(u,t,c){function h(bb,ub){if(!t[bb]){if(!u[bb]){var tb="function"==typeof require&&require;if(!ub&&tb)return tb(bb,!0);if(i)return i(bb,!0);var cb=new Error("Cannot find module '"+bb+"'");throw cb.code="MODULE_NOT_FOUND",cb}var hb=t[bb]={exports:{}};u[bb][0].call(hb.exports,function(b){var t=u[bb][1][b];return h(t?t:b)},hb,hb.exports,b,u,t,c)}return t[bb].exports}for(var i="function"==typeof require&&require,bb=0;bb<c.length;bb++)h(c[bb]);return h}({1:[function(b,u,t){"use strict";function c(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function b(b,u){for(var t=0;t<u.length;t++){var c=u[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(u,t,c){return t&&b(u.prototype,t),c&&b(u,c),u}}(),i=function(){function b(u){c(this,b),this.startDate=u.start_date||new Date(-621355968e5),this.endDate=u.end_date||new Date,this.duration=this.endDate.valueOf()-this.startDate.valueOf(),this.$btnPlay=u.$btn_play,this.$slider=u.$slider,this.PlayerState={ENDED:0,PLAYING:1,PAUSED:2},this.$dispatcher=$({}),this._state,this.initialize()}return h(b,[{key:"initialize",value:function(){this.curDate=this.startDate}},{key:"playVideo",value:function(){var b=this;this._state=this.PlayerState.PLAYING,this.triggerStateChange(),this.timerId=setInterval(function(){b.curDate.valueOf()>=b.endDate.valueOf()&&b.stopVideo(),b.curDate=new Date(b.curDate.valueOf()+1e3)},1e3)}},{key:"pauseVideo",value:function(){clearInterval(this.timerId),this._state=this.PlayerState.PAUSED,this.triggerStateChange()}},{key:"stopVideo",value:function(){clearInterval(this.timerId),this._state=this.PlayerState.ENDED,this.triggerStateChange(),this.$btnPlay.addClass("pause"),this.seekTo(this.startDate),this.$slider.val(0)}},{key:"seekTo",value:function(b){this.curDate=b}},{key:"getPlayerState",value:function(){return this._state}},{key:"getCurrentTime",value:function(){return this.curDate}},{key:"getDuration",value:function(){return this.duration}},{key:"triggerStateChange",value:function(){this.$dispatcher.trigger("onStateChange",this._state)}}]),b}();t["default"]=i},{}],2:[function(b,u,t){"use strict";function c(b){return b&&b.__esModule?b:{"default":b}}function h(b){var u=b.getUTCFullYear()+"年"+(b.getUTCMonth()+1)+"月"+b.getUTCDate()+"日 "+("00"+b.getUTCHours()).slice(-2)+":"+("00"+b.getUTCMinutes()).slice(-2)+":"+("00"+b.getUTCSeconds()).slice(-2);return u}function i(){var b=bb.getCurrentTime();ub=(b.valueOf()-bb.startDate.valueOf())/bb.duration,uu.text(h(b)),tu.text(h(b)),bb.getPlayerState()===bb.PlayerState.PLAYING&&bu.val(ub),requestAnimationFrame(i)}var bb,ub,tb=b("./Player"),cb=c(tb),hb=new Date(2016,3,30,22,4,33),ib=new Date(-621355968e5),bu=$(".slider"),uu=$(".face .time time"),tu=$(".controller .time-cur"),cu=$(".controller .time-total"),hu=$(".controller .btn-gotohead"),iu=$(".controller .btn-play");requestAnimationFrame(i),cu.text(h(hb)),bu.on("input",function(){var b=$(this).val();bb.seekTo(new Date(bb.startDate.valueOf()+bb.duration*b)),i()}),bu.on("change",function(){bb.$dispatcher.trigger("update"),bb.seekTo(new Date(ib.valueOf()+(hb.valueOf()-ib.valueOf())*ub))}),iu.on("click",function(){var b=$(this);b.hasClass("pause")?(b.removeClass("pause"),bb.playVideo()):(b.addClass("pause"),bb.pauseVideo())}),hu.on("click",function(){bb.seekTo(ib),bu.val(0)}),bb=new cb["default"]({start_date:ib,end_date:hb,$btn_play:iu,$slider:bu}),bb.playVideo(),bb.$dispatcher.on("onStateChange",function(b,u){console.log("state:",u)})},{"./Player":1}]},{},[2]);