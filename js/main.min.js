!function e(t,a,n){function r(s,u){if(!a[s]){if(!t[s]){var o="function"==typeof require&&require;if(!u&&o)return o(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=a[s]={exports:{}};t[s][0].call(c.exports,function(e){var a=t[s][1][e];return r(a?a:e)},c,c.exports,e,t,a,n)}return a[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function(){function e(t){n(this,e),this.startDate=t.start_date||new Date(-621355968e5),this.endDate=t.end_date||new Date,this.duration=this.endDate.valueOf()-this.startDate.valueOf(),this.$btnPlay=t.$btn_play,this.$slider=t.$slider,this.PlayerState={ENDED:0,PLAYING:1,PAUSED:2},this.$dispatcher=$({}),this._state,this.initialize()}return r(e,[{key:"initialize",value:function(){this.curDate=this.startDate}},{key:"playVideo",value:function(){var e=this;this._state=this.PlayerState.PLAYING,this.triggerStateChange(),this.timerId=setInterval(function(){e.curDate.valueOf()>=e.endDate.valueOf()&&e.stopVideo(),e.curDate=new Date(e.curDate.valueOf()+1e3)},1e3)}},{key:"pauseVideo",value:function(){clearInterval(this.timerId),this._state=this.PlayerState.PAUSED,this.triggerStateChange()}},{key:"stopVideo",value:function(){clearInterval(this.timerId),this._state=this.PlayerState.ENDED,this.triggerStateChange(),this.$btnPlay.addClass("pause"),this.seekTo(this.startDate),this.$slider.val(0)}},{key:"seekTo",value:function(e){this.curDate=e}},{key:"getPlayerState",value:function(){return this._state}},{key:"getCurrentTime",value:function(){return this.curDate}},{key:"getDuration",value:function(){return this.duration}},{key:"triggerStateChange",value:function(){this.$dispatcher.trigger("onStateChange",this._state)}}]),e}();a["default"]=i},{}],2:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.getUTCFullYear()+"年"+(e.getUTCMonth()+1)+"月"+e.getUTCDate()+"日 "+("00"+e.getUTCHours()).slice(-2)+":"+("00"+e.getUTCMinutes()).slice(-2)+":"+("00"+e.getUTCSeconds()).slice(-2);return t}function i(){var e=s.getCurrentTime();u=(e.valueOf()-s.startDate.valueOf())/s.duration,d.text(r(e)),v.text(r(e)),s.getPlayerState()===s.PlayerState.PLAYING&&h.val(u),requestAnimationFrame(i)}var s,u,o=e("./Player"),l=n(o),c=new Date(2016,3,30,22,4,33),f=new Date(-621355968e5),h=$(".slider"),d=$(".face .time time"),v=$(".controller .time-cur"),g=$(".controller .time-total"),y=$(".controller .btn-gotohead"),D=$(".controller .btn-play");requestAnimationFrame(i),g.text(r(c)),h.on("input",function(){var e=$(this).val();s.seekTo(new Date(s.startDate.valueOf()+s.duration*e)),i()}),h.on("change",function(){s.$dispatcher.trigger("update"),s.seekTo(new Date(f.valueOf()+(c.valueOf()-f.valueOf())*u))}),D.on("click",function(){var e=$(this);e.hasClass("pause")?(e.removeClass("pause"),s.playVideo()):(e.addClass("pause"),s.pauseVideo())}),y.on("click",function(){s.seekTo(f),h.val(0)}),s=new l["default"]({start_date:f,end_date:c,$btn_play:D,$slider:h}),s.playVideo(),s.$dispatcher.on("onStateChange",function(e,t){console.log("state:",t)})},{"./Player":1}]},{},[2]);